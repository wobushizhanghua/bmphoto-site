


////////////////////////////////////////////////////////////////////////////////////////
// Constructor                                                                        //
////////////////////////////////////////////////////////////////////////////////////////
jQuery(document).ready(function () {
    for (var i = 0; i < _selectedIds.length; i++) {
        var selectedId = _selectedIds[i];
        if (selectedId != "") {
          jQuery("form[name=adminForm] input[type=checkbox][name^=cid][value=" + selectedId + "]").prop("checked", true);
        }
    }
});


////////////////////////////////////////////////////////////////////////////////////////
// Public Methods                                                                     //
////////////////////////////////////////////////////////////////////////////////////////
function submitCheckedItems() {
    var users = [];
    jQuery("form[name=adminForm] input[type=checkbox][name^=cid]:checked").each(function () {
        var thisTr = jQuery(this).closest("tr");

        var user = {};
        user.id = jQuery(thisTr).attr("itemId");
        user.name = jQuery(thisTr).attr("itemName");
        users.push(user);
    });

    window.parent[_callback](users);
    window.parent.tb_remove();
}


////////////////////////////////////////////////////////////////////////////////////////
// Getters & Setters                                                                  //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Private Methods                                                                    //
////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////
// Listeners                                                                          //
////////////////////////////////////////////////////////////////////////////////////////
function onBtnUpdateClick(event, obj) {
    submitCheckedItems();
}